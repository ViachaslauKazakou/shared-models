# –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Ç–æ–ø–∏–∫–æ–≤

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`models.py`)

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏:

#### Category (–ö–∞—Ç–µ–≥–æ—Ä–∏—è)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä 
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `slug` - —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π URL
- `color` - —Ü–≤–µ—Ç –¥–ª—è UI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `icon` - –∏–∫–æ–Ω–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) 
- `is_active` - –∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- `sort_order` - –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- `created_at` / `updated_at` - –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

#### Subcategory (–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è)
- –¢–µ –∂–µ –ø–æ–ª—è —á—Ç–æ –∏ —É Category
- `category_id` - —Å–≤—è–∑—å —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è Topic
- `category_id` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π
- `subcategory_id` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å —Å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π

### 2. Pydantic —Å—Ö–µ–º—ã (`schemas.py`)

–î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ö–µ–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API:

#### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- `CategoryBase` - –±–∞–∑–æ–≤—ã–µ –ø–æ–ª—è
- `CategoryCreate` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏  
- `CategoryUpdate` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `CategoryResponse` - –æ—Ç–≤–µ—Ç API —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

#### –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `SubcategoryBase` - –±–∞–∑–æ–≤—ã–µ –ø–æ–ª—è
- `SubcategoryCreate` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `SubcategoryUpdate` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏  
- `SubcategoryResponse` - –æ—Ç–≤–µ—Ç API —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–ø–∏–∫–æ–≤
- `TopicCreate` - —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `category_id` –∏ `subcategory_id`
- `TopicUpdate` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `TopicResponse` - –≤–∫–ª—é—á–∞–µ—Ç ID –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `TopicWithCategories` - –Ω–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö
- `TopicList` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

### 3. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `2025_08_04_1223-3ca9d72fe2ba_add_categories_and_subcategories_for_.py`:

- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `categories`
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `subcategories` 
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π `category_id` –∏ `subcategory_id` –≤ —Ç–∞–±–ª–∏—Ü—É `topics`
- –°–æ–∑–¥–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π –∏ –∏–Ω–¥–µ–∫—Å–æ–≤

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —ç–∫—Å–ø–æ—Ä—Ç–æ–≤ (`__init__.py`)

–î–æ–±–∞–≤–ª–µ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –∏ —Å—Ö–µ–º –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```python
from shared_models import Category, Subcategory, SessionLocal

with SessionLocal() as db:
    # –°–æ–∑–¥–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é
    category = Category(
        name="–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏",
        description="–û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
        slug="tech",
        color="#007BFF",
        icon="laptop",
        sort_order=1
    )
    db.add(category)
    db.commit()
    
    # –°–æ–∑–¥–∞–µ–º –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é
    subcategory = Subcategory(
        name="Python",
        description="–í–æ–ø—Ä–æ—Å—ã –ø–æ —è–∑—ã–∫—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Python",
        slug="python",
        color="#3776AB", 
        icon="python",
        category_id=category.id,
        sort_order=1
    )
    db.add(subcategory)
    db.commit()
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

```python
from shared_models import Topic, SessionLocal

with SessionLocal() as db:
    topic = Topic(
        title="–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLAlchemy —Å pgvector?",
        description="–û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ SQLAlchemy —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º pgvector",
        user_id=1,
        category_id=1,      # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
        subcategory_id=1    # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
    )
    db.add(topic)
    db.commit()
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```python
# –¢–æ–ø–∏–∫–∏ –º–æ–≥—É—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
topic = Topic(
    title="–û–±—â–µ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ",
    description="–¢–æ–ø–∏–∫ –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º",
    user_id=1
    # category_id –∏ subcategory_id –æ—Å—Ç–∞—é—Ç—Å—è None
)
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã:

- `test_categories.py` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∏ —Å–≤—è–∑–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- `test_schemas.py` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Pydantic —Å—Ö–µ–º

–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ ‚úÖ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```
–ö–∞—Ç–µ–≥–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏")
‚îú‚îÄ‚îÄ –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è 1 (–Ω–∞–ø—Ä–∏–º–µ—Ä: "Python")
‚îÇ   ‚îú‚îÄ‚îÄ –¢–æ–ø–∏–∫ 1
‚îÇ   ‚îî‚îÄ‚îÄ –¢–æ–ø–∏–∫ 2
‚îú‚îÄ‚îÄ –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è 2 (–Ω–∞–ø—Ä–∏–º–µ—Ä: "JavaScript")
‚îÇ   ‚îú‚îÄ‚îÄ –¢–æ–ø–∏–∫ 3
‚îÇ   ‚îî‚îÄ‚îÄ –¢–æ–ø–∏–∫ 4
‚îî‚îÄ‚îÄ –¢–æ–ø–∏–∫–∏ –±–µ–∑ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)

–¢–æ–ø–∏–∫–∏ –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (category_id = None, subcategory_id = None)
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ú–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã
2. ‚úÖ –°—Ö–µ–º—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã  
3. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
4. ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
5. üîÑ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å API endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
6. üîÑ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∫—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
7. üîÑ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Ç–æ–ø–∏–∫–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
